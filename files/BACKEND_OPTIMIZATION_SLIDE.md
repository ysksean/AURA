# 백엔드 성능 최적화: Placeholder 치환 기법

---

## 슬라이드 레이아웃

```
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│  ┌─────────────────────────────┐     ┌─────────────────────────────┐   │
│  │         Before              │     │         After               │   │
│  │                             │     │                             │   │
│  │  ┌───────┐     ┌───────┐   │     │  ┌───────┐     ┌───────┐   │   │
│  │  │Agent A│────▶│Agent B│   │     │  │Agent A│────▶│Agent B│   │   │
│  │  └───────┘     └───────┘   │     │  └───────┘     └───────┘   │   │
│  │       │                     │     │       │                     │   │
│  │       ▼                     │     │       ▼                     │   │
│  │  ┌─────────────┐           │     │  ┌─────────────┐           │   │
│  │  │   Base64    │           │     │  │ __IMG_01__  │           │   │
│  │  │   (3MB)     │           │     │  │ (20 bytes)  │           │   │
│  │  └─────────────┘           │     │  └─────────────┘           │   │
│  │                             │     │                             │   │
│  │  ❌ 느린 통신               │     │  ✅ 빠른 통신               │   │
│  └─────────────────────────────┘     └─────────────────────────────┘   │
│                                                                         │
│  ┌───────────────────────────────────────────────────────────────────┐ │
│  │                        성과 지표                                   │ │
│  │                                                                   │ │
│  │   📉 데이터 전송량: -90% 감소                                      │ │
│  │   ⚡ 처리 속도: 10배 단축                                          │ │
│  └───────────────────────────────────────────────────────────────────┘ │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 핵심 내용

### 문제 상황 (Before)
- 이미지 데이터를 **Base64 문자열**로 변환
- 모든 에이전트가 **직접 주고받음**
- 이미지당 **수 MB** → 노드 간 통신 **심각하게 느려짐**

### 해결 방안 (After)
- **Placeholder 치환 기법** 도입
- 에이전트끼리는 `__IMG_01__` 같은 **가벼운 변수명**만 전달
- 실제 이미지는 **최종 HTML 생성 시에만** 주입

### 성과
| 지표 | Before | After | 개선 |
|:---|:---:|:---:|:---:|
| 데이터 전송량 | 3MB/이미지 | 20 bytes | **-90%** |
| 처리 속도 | 10초 | 1초 | **10배 ↑** |

---

## 발표 대본

"다음으로 **백엔드 성능 최적화** 사례입니다.

초기에는 화면 왼쪽처럼 이미지를 **Base64 문자열**로 변환해서 에이전트끼리 직접 주고받았습니다. 
문제는 이미지 하나당 **수 메가바이트**라서, 노드 간 통신이 심각하게 느려졌습니다.

이를 해결하기 위해 화면 오른쪽처럼 **Placeholder 치환 기법**을 도입했습니다.
에이전트끼리는 `__IMG_01__` 같은 **가벼운 변수명**만 주고받고, 
실제 이미지는 **최종 HTML 생성 시에만** 주입합니다.

결과적으로 **데이터 전송량 90% 감소**, **처리 속도 10배 단축**을 달성했습니다."
