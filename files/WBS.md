# AI Magazine Layout Generator - WBS (Work Breakdown Structure)

---

## 프로젝트 개요

| 항목 | 내용 |
|:---|:---|
| 프로젝트명 | AI Magazine Layout Generator |
| 개발 기간 | 2025.12.24 ~ 2026.01.15 |
| 팀 구성 | 유신, 규리, 명래, 승민 (4명) |

---

## WBS 상세

| No | 과제명 | 시작일 | 종료일 | 담당자 |
|:---|:---|:---:|:---:|:---:|
| **1** | **Phase 0. 기획** | **2025-12-24** | **2025-12-30** | |
| 1.1 | 기획 | | | |
| 1.1.1 | 주제 선정 및 요구사항 정의 | 2025-12-24 | 2025-12-30 | 공통 |
| 1.1.2 | 노드 구성 설계 | 2025-12-31 | 2025-12-31 | 공통 |
| 1.1.3 | 최종 파이프라인 확정 | 2026-01-04 | 2026-01-04 | 공통 |
| | | | | |
| **2** | **Phase 1. 기반 구축** | **2025-12-31** | **2026-01-05** | |
| 2.1 | 아키텍처 설계 | | | |
| 2.1.1 | 에이전트 노드 역할 정의 (9개 노드) | 2026-01-05 | 2026-01-05 | 유신 |
| 2.1.2 | Intent Router 전체 설계도 작성 | 2026-01-05 | 2026-01-05 | 유신 |
| 2.1.3 | Critique 루프 구조 설계 | 2026-01-05 | 2026-01-05 | 유신 |
| 2.1.4 | Director 프롬프트 업그레이드 | 2026-01-05 | 2026-01-05 | 유신 |
| 2.1.5 | 아키텍처 흐름 변경 (Vision→Planner→Editor) | 2026-01-05 | 2026-01-05 | 유신 |
| 2.2 | Vision Agent 개발 | | | |
| 2.2.1 | 환경 및 호출 수정 (404 오류 해결) | 2026-01-05 | 2026-01-05 | 규리 |
| 2.2.2 | 데이터 파싱 개선 (JSON 키 누락 해결) | 2026-01-05 | 2026-01-05 | 규리 |
| 2.2.3 | 공간 분석 알고리즘 (Maximal Empty Rectangle) | 2026-01-05 | 2026-01-05 | 규리 |
| 2.2.4 | 검증 시스템 구축 (좌표 역산, Bounding Box) | 2026-01-05 | 2026-01-05 | 규리 |
| 2.3 | Core 파이프라인 개발 | | | |
| 2.3.1 | 병렬처리 도입 (asyncio) | 2026-01-05 | 2026-01-05 | 명래 |
| 2.3.2 | 데이터 스키마 통일 (state.py) | 2026-01-05 | 2026-01-05 | 명래 |
| 2.3.3 | 라이브러리 파편화 해결 (LangChain v0.2) | 2026-01-05 | 2026-01-05 | 명래 |
| 2.4 | 렌더링 (SDUI) 개발 | | | |
| 2.4.1 | SDUI 및 코드 무결성 (Jinja2 템플릿) | 2026-01-05 | 2026-01-05 | 승민 |
| 2.4.2 | 이미지 과부하 관리 (optimize_image) | 2026-01-05 | 2026-01-05 | 승민 |
| | | | | |
| **3** | **Phase 2. 지능화** | **2026-01-06** | **2026-01-09** | |
| 3.1 | 시스템 안정화 | | | |
| 3.1.1 | 변수 및 타입 일관성 확보 | 2026-01-06 | 2026-01-06 | 유신 |
| 3.1.2 | 에이전트 간 매핑 오류 수정 | 2026-01-07 | 2026-01-07 | 유신 |
| 3.1.3 | System Stabilization (Overlay 버그 해결) | 2026-01-06 | 2026-01-06 | 규리 |
| 3.1.4 | 변수명 통일 (safe_zone→safe_areas) | 2026-01-07 | 2026-01-07 | 규리 |
| 3.2 | 성능 최적화 | | | |
| 3.2.1 | 다중 이미지 대응 | 2026-01-08 | 2026-01-08 | 유신 |
| 3.2.2 | Placeholder 치환 기법 (처리시간 1/10 단축) | 2026-01-09 | 2026-01-09 | 유신 |
| 3.2.3 | index.html 페이지 추가 (토글 기능) | 2026-01-08 | 2026-01-08 | 규리 |
| 3.3 | Vision 로직 고도화 | | | |
| 3.3.1 | Vision Agent 무결성 확보 (4대 핵심 키) | 2026-01-09 | 2026-01-09 | 규리 |
| 3.3.2 | 레이아웃 엔진 고도화 (Anti-Gravity) | 2026-01-09 | 2026-01-09 | 규리 |
| 3.3.3 | 스타일링 툴킷 확장 (Vertical-text, Outline) | 2026-01-09 | 2026-01-09 | 규리 |
| 3.4 | RAG 도입 | | | |
| 3.4.1 | RAG 시스템 도입 (환각 통제) | 2026-01-06 | 2026-01-09 | 명래 |
| 3.4.2 | Tone/Length 분리 | 2026-01-06 | 2026-01-09 | 명래 |
| 3.4.3 | 디자인 환각 탈피 (동적 플레이스홀더) | 2026-01-06 | 2026-01-09 | 명래 |
| 3.4.4 | 시각적 정합성 (Primary Color 추출) | 2026-01-06 | 2026-01-09 | 명래 |
| 3.5 | Safety / 품질 개발 | | | |
| 3.5.1 | Pydantic 출력 정형화 | 2026-01-06 | 2026-01-08 | 승민 |
| 3.5.2 | Hybrid Detection (Regex + LLM) | 2026-01-06 | 2026-01-08 | 승민 |
| 3.5.3 | Error Handling | 2026-01-06 | 2026-01-08 | 승민 |
| 3.5.4 | 피드백 구체화 (차단 사유, PII 반환) | 2026-01-06 | 2026-01-08 | 승민 |
| 3.5.5 | 입력 유형 자동 판별 (50자 기준) | 2026-01-06 | 2026-01-08 | 승민 |
| | | | | |
| **4** | **Phase 3. 확장 / RAG** | **2026-01-10** | **2026-01-12** | |
| 4.1 | Agent 리팩토링 | | | |
| 4.1.1 | 클래스 기반 에이전트 전환 | 2026-01-11 | 2026-01-11 | 유신 |
| 4.1.2 | 메시지 시스템 도입 (Message 클래스) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.1.3 | 상태 관리 분리 (SharedState/AgentState) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.1.4 | Vision Agent 업그레이드 (5가지 카테고리) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.1.5 | Design Agent 통합 (Planner+Director) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.1.6 | Orchestrator 도입 | 2026-01-11 | 2026-01-11 | 유신 |
| 4.1.7 | 병렬 실행 (Design+Editor, 50% 단축) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.2 | 데이터 인프라 구축 | | | |
| 4.2.1 | Registry 기반 아키텍처 (104개 테마) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.2.2 | Smart Assembler 고도화 | 2026-01-11 | 2026-01-11 | 유신 |
| 4.2.3 | 레시피 전용 레이아웃 (5가지 컴포넌트) | 2026-01-11 | 2026-01-11 | 유신 |
| 4.2.4 | 벡터 DB 구축 (LayoutParser+OCR+Gemini) | 2026-01-12 | 2026-01-12 | 유신 |
| 4.2.5 | 물리적 수용량 계산 (휴리스틱 공식) | 2026-01-12 | 2026-01-12 | 유신 |
| 4.2.6 | 감성 태깅 및 벡터화 | 2026-01-12 | 2026-01-12 | 유신 |
| 4.3 | RAG 파이프라인 구축 | | | |
| 4.3.1 | RAG 4개 노드 체제 (Analyzer→Retriever→Critic→Drafter) | 2026-01-12 | 2026-01-12 | 유신 |
| 4.3.2 | 이미지-텍스트 깊이감 (누끼 레이어) | 2026-01-12 | 2026-01-12 | 유신 |
| 4.3.3 | Auto-Scaling 엔진 | 2026-01-12 | 2026-01-12 | 유신 |
| 4.3.4 | Smart Placement (피사체 회피) | 2026-01-12 | 2026-01-12 | 유신 |
| 4.4 | 렌더링 품질 개선 | | | |
| 4.4.1 | 피사체 잘림 해결 (object-fit: contain) | 2026-01-11 | 2026-01-11 | 규리 |
| 4.4.2 | 오버레이 가독성 개선 (.mag-text-overlay) | 2026-01-11 | 2026-01-11 | 규리 |
| 4.4.3 | 레이아웃 상단 고정 타파 (4가지 위치 옵션) | 2026-01-11 | 2026-01-11 | 규리 |
| 4.5 | Embedding 전략 수립 | | | |
| 4.5.1 | BGE-M3 Embedding 전략 (8192 토큰 One Chunk) | 2026-01-12 | 2026-01-12 | 규리 |
| 4.5.2 | Hybrid Scoring Algorithm (Dense 0.7 + Sparse 0.3) | 2026-01-12 | 2026-01-12 | 규리 |
| 4.5.3 | FP16 정밀도 (메모리 50% 절감) | 2026-01-12 | 2026-01-12 | 규리 |
| 4.5.4 | Index Caching (초기화 20배 향상) | 2026-01-12 | 2026-01-12 | 규리 |
| 4.5.5 | 3-Stage Fallback (검색 성공률 100%) | 2026-01-12 | 2026-01-12 | 규리 |
| 4.6 | 시스템 구조 재설계 | | | |
| 4.6.1 | T5 기반 결정론적 파이프라인 | 2026-01-10 | 2026-01-12 | 명래 |
| 4.6.2 | TrendAnalyst 도입 (Serper API) | 2026-01-10 | 2026-01-12 | 명래 |
| 4.6.3 | Director Council (3가지 시안 투표) | 2026-01-10 | 2026-01-12 | 명래 |
| 4.6.4 | 다중 이미지 대응 (Dual/Triptych/Grid) | 2026-01-10 | 2026-01-12 | 명래 |
| 4.6.5 | Template Registry | 2026-01-10 | 2026-01-12 | 명래 |
| 4.7 | 프롬프트 고도화 | | | |
| 4.7.1 | 프롬프트 엔지니어링 (톤 정의, No Emojis) | 2026-01-09 | 2026-01-09 | 승민 |
| 4.7.2 | 레이아웃 범용성 확대 (Long-form 조건) | 2026-01-09 | 2026-01-09 | 승민 |
| 4.7.3 | 안전장치 강화 (빈 딕셔너리 초기화) | 2026-01-09 | 2026-01-09 | 승민 |
| 4.7.4 | 이미지 화질 방어 (NEVER UPSCALE) | 2026-01-11 | 2026-01-11 | 승민 |
| | | | | |
| **5** | **Phase 4. 완성 / MCP** | **2026-01-13** | **2026-01-15** | |
| 5.1 | MCP 최종화 | | | |
| 5.1.1 | MCP Server 도입 (독립 마이크로서비스) | 2026-01-13 | 2026-01-15 | 명래 |
| 5.1.2 | Multimodal Prompting (레퍼런스 이미지 모방) | 2026-01-13 | 2026-01-15 | 명래 |
| 5.1.3 | Advanced Color Harmony (Primary Color 추출) | 2026-01-13 | 2026-01-15 | 명래 |
| 5.1.4 | Smart Selection (후보 3개 중 최적 선택) | 2026-01-13 | 2026-01-15 | 명래 |
| 5.2 | 최종 품질 확보 | | | |
| 5.2.1 | Lesson Learned 정리 (복잡함→단순함 회귀) | 2026-01-13 | 2026-01-13 | 규리 |
| 5.2.2 | External MCP 내재화 (Nanobanana) | 2026-01-14 | 2026-01-14 | 규리 |
| 5.2.3 | ABSOLUTE RULES 수립 | 2026-01-14 | 2026-01-14 | 규리 |
| 5.2.4 | Hybrid Model 완성 (Flash+Pro) | 2026-01-15 | 2026-01-15 | 규리 |
| 5.2.5 | 4-Stage Fallback 검색 | 2026-01-15 | 2026-01-15 | 규리 |
| 5.3 | 프롬프트 원칙 수립 | | | |
| 5.3.1 | ANTI-LINE-CLAMP 원칙 (텍스트 자르기 지양) | 2026-01-15 | 2026-01-15 | 규리 |
| 5.3.2 | CONDITIONAL Z-INDEX (긴 글/짧은 글 분기) | 2026-01-15 | 2026-01-15 | 규리 |
| 5.3.3 | CONTENT-FIRST 전략 (콘텐츠 분량 기반) | 2026-01-15 | 2026-01-15 | 규리 |
| 5.4 | Safety 최종 개선 | | | |
| 5.4.1 | Safety 프롬프트 패러다임 전환 (Sheriff→Editor) | 2026-01-12 | 2026-01-12 | 승민 |
| 5.4.2 | 오탐 최소화 (ALLOW 리스트) | 2026-01-12 | 2026-01-12 | 승민 |
| 5.4.3 | 인물 사진 최적화 (조건부 크롭) | 2026-01-13 | 2026-01-13 | 승민 |
| 5.4.4 | 레이아웃 가독성 강화 (겹침 차단) | 2026-01-13 | 2026-01-13 | 승민 |
| 5.4.5 | 지능형 서브헤드 추출 (Hook 선별) | 2026-01-13 | 2026-01-13 | 승민 |
| 5.5 | 문서화 | | | |
| 5.5.1 | 트러블슈팅 핵심 정리 (5 Phase) | 2026-01-15 | 2026-01-15 | 유신 |
| 5.5.2 | RAG 기술 스택 명세서 | 2026-01-15 | 2026-01-15 | 유신 |

---

## 팀원별 담당 영역 요약

| 팀원 | 주요 담당 영역 |
|:---|:---|
| **유신** | 아키텍처 설계, Agent 리팩토링, RAG 파이프라인, 데이터 인프라, 문서화 |
| **규리** | Vision Agent, Embedding 전략, 렌더링 품질, MCP 내재화, 프롬프트 원칙 |
| **명래** | Core 파이프라인, RAG 도입, 시스템 재설계, MCP Server |
| **승민** | Safety/품질, 프롬프트 고도화, 렌더링 SDUI, 이미지 최적화 |

---

## 핵심 마일스톤

| No | 마일스톤 | 완료일 | 내용 |
|:---:|:---|:---:|:---|
| M1 | 기반 구축 완료 | 01.05 | 9개 노드 파이프라인 확정 |
| M2 | 성능 혁신 | 01.09 | Placeholder 치환으로 10배 속도 향상 |
| M3 | A2A 마이그레이션 | 01.11 | 1,960줄 정비, 컨텐츠 타입 인식률 90% |
| M4 | RAG 시스템 완성 | 01.12 | 122개 레이아웃 DB, 검색 성공률 100% |
| M5 | 최종 배포 | 01.15 | MCP Server 완성, Hybrid Model |

---

## 성과 지표 (KPI)

| 지표 | 개선 전 | 개선 후 | 비고 |
|:---|:---:|:---:|:---|
| 생성 속도 | 120초 | 25초 | 79% 단축 (병렬 처리) |
| 데이터셋 | 0개 | 122개 | Gemini Vision 자동화 |
| 오류율(겹침) | 40% | 2% 미만 | Self-Validation |
| 검색 초기화 | 10초 | 0.5초 | Index Caching |
| 데이터 전송량 | 3MB | 20bytes | Placeholder 치환 |
